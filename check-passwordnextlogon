# Set the domain name and search base
$domain = "yourdomain.com"
$searchBase = "DC=yourdomain,DC=com"

# Define the filter to search for user accounts with a name like "*SDM"
$filter = "(&(objectCategory=User)(sAMAccountName=*SDM))"

# Get the list of user accounts that match the filter and have pwdLastSet=0
$userAccounts = Get-ADUser -Filter $filter -Server $domain -SearchBase $searchBase -Properties pwdLastSet | Where-Object { $_.pwdLastSet -eq 0 }

# Check if any user accounts were found with pwdLastSet=0
if ($userAccounts) {
    Write-Host "The following user accounts have pwdLastSet=0:"
    foreach ($user in $userAccounts) {
        Write-Host $user.SamAccountName
    }
} else {
    Write-Host "No user accounts were found with pwdLastSet=0."
}
